<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>pharmacymapng</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon.ico">
    <link rel="stylesheet" href="css/style5.css">
    <link rel="stylesheet" href="plugins/leaflet/leaflet.css">
    <link rel="stylesheet" href="css/main.css">
    <link href="bower_components/bootstrap-social/bootstrap-social.css" rel="stylesheet">
    <link rel="stylesheet" href="plugins/MarkerCluster/MarkerCluster.css">
    <link rel="stylesheet" href="plugins/MarkerCluster/MarkerCluster.Default.css">
    <link rel="stylesheet" href="css/icon.css">
    
    <script src="js/pharmacy_mapping_data.js" type="text/javascript"></script>
    <script src='resources/contr.js'></script>
    <script type="text/javascript" src="us-states2.js"></script>
    
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/solid.js" integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ" crossorigin="anonymous"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js" integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY" crossorigin="anonymous"></script>
    
    <style type="text/css">
        body {
            overflow: hidden;
        }
        
        .sideColor {
            overflow: hidden;
        }
        
        .mywrapper {
            margin: 0px;
            height: 30px;
           font-weight: 900;
            color: black;
        }
        
        .hidden {
            display: none;
        }
        /*the container must be positioned relative:*/
        
        .autocomplete {
            position: absolute;
            display: inline-block;
            width: 150px;
        }
        
        input {
            border: 1px solid transparent;
            background-color: #f1f1f1;
            padding: 10px;
            font-size: 16px;
        }
        
        input[type=text] {
            background-color: #f1f1f1;
            width: 100%;
        }
        
        .autocomplete-items {
            position: absolute;
            border: 1px solid #d4d4d4;
            border-bottom: none;
            border-top: none;
            z-index: 99;
            /*position the autocomplete items to be the same width as the container:*/
            top: 75%;
            left: 0;
            right: 0;
            bottom: 55%;
            width: 250px;
            max-height: 200px;
            overflow-y: auto;
        }
        
        .autocomplete-items div {
            padding: 10px;
            cursor: pointer;
            background-color: #fff;
            border-bottom: 1px solid #d4d4d4;
            color: black;
            overflow: hidden;
        }
        /*when hovering an item:*/
        
        .autocomplete-items div:hover {
            background-color: #e9e9e9;
        }
        /*when navigating through the items using the arrow keys:*/
        
        .autocomplete-active {
            background-color: DodgerBlue !important;
            color: #ffffff;
        }
        
        .components {
            background-color: #7386D0 !important;
        }
        
        .footer {
            position: fixed;
            left: 0;
            bottom: 0;
            width: 100%;
            background-color: red;
            color: white;
            text-align: center;
        }
        
        .footer {
            position: fixed;
            left: 0;
            bottom: 0;
            width: 100%;
            background-color: red;
            color: white;
            text-align: center;
        }
        
        /* //modal window  */
        .modal {
            display: none;
            /* Hidden by default */
            position: relative;
            /* Stay in place */
            /* z-index: 1; */
            /* Sit on top */
            left: 0;
            top: 0;
            width: 100%;
            /* Full width */
            height: 100%;
            /* Full height */
            overflow: auto;
            /* Enable scroll if needed */
            background-color: rgb(0, 0, 0);
            /* Fallback color */
            background-color: rgba(0, 0, 0, 0.4);
            /* Black w/ opacity */
        }
        /* Modal Content/Box */
        
        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            /* 15% from the top and centered */
            padding: 10px;
            border: 1px solid #888;
            width: 50%;
            /* Could be more or less, depending on screen size */
            height: 70%;
        }
        
        .footerdata {
            color: black;
        }
        /* The Close Button */
        
        .close {
            color: red;
            float:right;
            font-size: 50px;
            font-weight: bold;
        }
        
        .close:hover,
        .close:focus {
            color: red;
            text-decoration: none;
            cursor: pointer;
        }
    </style>

<style>
 .info { padding: 6px 8px; font: 14px/16px Arial, Helvetica, sans-serif; background: white; background: rgba(255,255,255,0.8); box-shadow: 0 0 15px rgba(0,0,0,0.2); border-radius: 5px; } .info h4 { margin: 0 0 5px; color: #777; }
.legend { text-align: left; line-height: 18px; color: #555; } .legend i { width: 18px; height: 18px; float: left; margin-right: 8px; opacity: 0.7; }
</style>
</head>

<body>

    <div class="wrapper">
        <nav id="sidebar">
            <div class="sidebar-header">
    </div>
            <ul class="list-unstyled components" style="background:#7386D0" ;>
                <div class="sideColor">
                 <h4 class="info-box-number white"><i class="icon fa fa-globe fa-1x"></i>&nbsp;State</h4>
                    <div class="form-group-sm">
                        <select style="height:35px" name="state_scope" id="state_scope" onChange="changecat(this.value); triggerUiUpdate();" class="form-control">
<option value="">All</option>
                            <option value="Abia">Abia</option>
                            <option value="Adamawa">Adamawa</option>
                            <option value="Akwa_Ibom">Akwa_Ibom</option>
                            <option value="Anambra">Anambra</option>
                            <option value="Bauchi">Bauchi</option>
                            <option value="Bayelsa">Bayelsa</option>
                            <option value="Benue">Benue</option>
                            <option value="Borno">Borno</option>
                            <option value="Cross_River">Cross_River</option>
                            <option value="Delta">Delta</option>
                            <option value="Ebonyi">Ebonyi</option>
                            <option value="Edo">Edo</option>
                            <option value="FCT_Abuja">FCT_Abuja</option>
                            <option value="Ekiti">Ekiti</option>
                            <option value="Enugu">Enugu</option>
                            <option value="Gombe">Gombe</option>
                            <option value="Imo">Imo</option>
                            <option value="Jigawa">Jigawa</option>
                            <option value="Kaduna">Kaduna</option>
                            <option value="Kano">Kano</option>
                            <option value="Katsina">Katsina</option>
                            <option value="Kebbi">Kebbi</option>
                            <option value="Kogi">Kogi</option>
                            <option value="Kwara">Kwara</option>
                            <option value="Lagos">Lagos</option>
                            <option value="Nasarawa">Nasarawa</option>
                            <option value="Niger">Niger</option>
                            <option value="Ogun">Ogun</option>
                            <option value="Ondo">Ondo</option>
                            <option value="Osun">Osun</option>
                            <option value="Oyo">Oyo</option>
                            <option value="Plateau">Plateau</option>
                            <option value="Rivers">Rivers</option>
                            <option value="Sokoto">Sokoto</option>
                            <option value="Taraba">Taraba</option>
                            <option value="Yobe">Yobe</option>
                            <option value="Zamfara"> Zamfara</option>
                        </select>
                    </div>

                    <br>


                    <h4 class="info-box-number white" id="prefecture_id" readonly style="visibility:true"><i class="icon fa fa-globe fa-1x"></i>&nbsp;Local Government Area</h4>
                    <div id="prefecture_id1" class="form-group-sm" readonly style="visibility:true">
                        <select style="height:35px" name="lga_scope" id="lga_scope" onchange="triggerUiUpdate();" class="form-control">

                            <option value="" disabled selected>All</option>
                        </select>
                    </div>
                    <br>

                    <br>
                    <h4 class="info-box-number white" readonly style="visibility:true"><i class="icon fa fa-h-square fa-1x"></i>&nbsp;Pharmacy Name</h4>
                    <div class="form-group-sm">
                        <input type="text" id="name_of_pharmacy" name="name_of_pharmacy" onkeyup="facilityName();" class="form-control">
                    </div>
                    <br>

                    <div class="text-center">
                        <span class="info-box-text white">Currently Displaying:</span>
                        <span class="info-box-number white"><b id="country2"></b><big id="projectCount">0</big> Pharmacy(ies)  </span>

                        <div class="container">
                            <br>                            
                            <a id="downloadLink" href="javascript:void(0)" onclick="triggerJSONDownload()" class="btn btn-block btn-info btn-flat" style="margin-top: 10px;"><i class="fa fa-download"></i>Download Data (.json)</a>
                        </div>
                    </div>

                </div>
                </section>
        </nav>

        <div id="content">

            <nav class="navbar navbar-expand-lg navbar-light bg-light mywrapper" style="background:#6d7fcc">
                <div class="container-fluid ">

                    <button type="button" id="sidebarCollapse" class="navbar-btn">
                    <div>
                    <span></span>
                     <span></span>
                    <span></span>
                    </div> 
                    </button>
                <button class="btn d-inline-block d-lg-none ml-auto" type="hidden" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <i class="fas fa-align-justify"></i>
                    </button>

                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="nav navbar-nav ml-auto">
                            <li class="nav-item active">
                                <a class="nav-link" href="/" >Home</a>
                            </li>
                            <li class="nav-item">
                                <a target="_blank" class="nav-link" href="https://ee.kobotoolbox.org/x/#qOgTb0MU">Add a pharmacy to map</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" onclick="contactInfo()" href="#">Update Pharmacy Data</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" onclick="contactInfo()" href="#">Print Page</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
            <div class="col-md-12" id="map"></div>
            <div>
                <h7 class="black text-center"><i class="icon fa fa-spinner fa-5x" id="spinposition"></i></h7>
            </div>

            <div id="myModal" class="modal">
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <div id="infoContent">
                        </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="page-footer font-small blue">
        <div class="footer" style="background:#6d7fcc">
            <p class="footerdata">Â© Copyright 2019 All Rights Reserved</p>
        </div>
    </footer>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>
    
    <script src="js/changeLGA.js"></script>

    <script src="plugins/leaflet/leaflet.js "></script>
    <script src="plugins/MarkerCluster/leaflet.markercluster-src.js "></script>
    
    <script src="js/main.js "></script>

    <script type="text/javascript">
        // Clean implementation of sidebar toggle logic
        $(document).ready(function(){
            $('#sidebarCollapse').on('click', function(){
                $('#sidebar').toggleClass('active');
                $(this).toggleClass('active');
            });
        });
        
        // NOTE: The previous script block containing the autocomplete feature and heavy anti-debugging code 
        // has been completely removed to resolve the "very slow" performance issue. 
        // The core pharmacy name filter is still active via the 'onkeyup="facilityName();"' call.
    </script>
</body>

</html>
